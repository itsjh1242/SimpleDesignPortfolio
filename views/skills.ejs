<!DOCTYPE html>
<html>
  <head>
    <title>Simple Design Portfolio</title>
    <link rel="stylesheet" href="/stylesheets/styles.css" />
    <script src="/javascripts/config.js"></script>
    <script src="/javascripts/themeChange.js"></script>
    <script src="/javascripts/imageslide.js"></script>
  </head>
  <body>
    <% include ./content/menuPagetop.ejs %>
    <div class="skiils_content">
      <div class="language">
        <div class="skiils_title">Languages</div>
        <div class="skiils_component">
          <% for (key in SkillsPage.Language) { %>
          <p><%= key %> - <%= SkillsPage.Language[key] %></p>
          <% } %>
        </div>
      </div>
      <div class="computerSkills">
        <div class="skiils_title">Computer Skills</div>
        <div class="skiils_component">
          <% for (key in SkillsPage.ComputerSkills) { %>
          <p><%= key %> - <%= SkillsPage.ComputerSkills[key] %></p>
          <% } %>
        </div>
      </div>
      <div class="license">
        <div class="skiils_title">License</div>
        <div class="skiils_component">
          <% SkillsPage.License.forEach(function(e, i) { %>
          <p><%= e %></p>
          <% }) %>
        </div>
      </div>
      <div class="award">
        <div class="skiils_title">Certificates/Awards</div>
        <div class="skiils_component">
          <% SkillsPage.Awards.forEach(function(e, i) { %>
          <div class="top">
            <div class="left">
              <p><%= e.AwardTitle %></p>
              <p><%= e.AwardDetail %></p>
            </div>
            <div class="right"><%= e.AwardAgency %>, <%= e.AwardYear %></div>
          </div>
          <div class="mid">
            <p>Role In Team</p>
            <% e.Role.forEach(function(el, i) { %>
            <p>&nbsp;&nbsp;&nbsp;▫️<%= el %></p>
            <% }) %>
          </div>
          <div class="bottom">
            <div class="SlideFrame">
              <button class="BtnSlidePrev" onclick="SlideCountMinus(); OnClickAni();"><</button>
              <img src="" alt="" class="SlidePrev" />
              <img src="" alt="" class="SlideCenter" />
              <img src="" alt="" class="SlideNext" />
              <button class="BtnSlideNext" onclick="SlideCountPlus(); OnClickAni();">></button>
            </div>
          </div>
          <% }) %>
        </div>
      </div>
    </div>
    <% include ./content/footer.ejs %>
  </body>
  <script>
    var SlideCount = 0;
    var awardData = SkillsPage.Awards;
    var prevImg = document.querySelector(".SlidePrev");
    var centerImg = document.querySelector(".SlideCenter");
    var nextImg = document.querySelector(".SlideNext");
    var BtnSlideNext = document.querySelector(".BtnSlideNext");
    var BtnSlidePrev = document.querySelector(".BtnSlidePrev");
  
    centerImg.addEventListener("mouseover", function () {
      centerImg.animate(
        {
          transform: ["scale(1.3)"],
        },
        {
          duration: 500,
          fill: "forwards",
          easing: "ease",
        }
      );
    });
    centerImg.addEventListener("mouseout", function () {
      centerImg.animate(
        {
          transform: ["scale(1)"],
        },
        {
          duration: 500,
          fill: "forwards",
          easing: "ease",
        }
      );
    });
  
    function updateImages() {
      var currentAward = awardData[SlideCount];
      var images = currentAward.AwardImage;
      prevImg.src = images[0];
      centerImg.src = images[1];
      nextImg.src = images[2];
    }
  
    window.onload = function () {
      updateImages();
    };
  
    function SlideCountPlus() {
      SlideCount++;
      if (SlideCount >= awardData.length) {
        SlideCount = 0; // 루프해서 처음으로 돌아갑니다.
      }
      updateImages();
    }
  
    function SlideCountMinus() {
      SlideCount--;
      if (SlideCount < 0) {
        SlideCount = awardData.length - 1; // 루프해서 마지막으로 돌아갑니다.
      }
      updateImages();
    }
  
    function OnClickAni() {
      centerImg.className = "SkillsFadeIn";
      BtnSlideNext.disabled = true;
      BtnSlidePrev.disabled = true;
      setTimeout(function () {
        centerImg.className = "";
        BtnSlideNext.disabled = false;
        BtnSlidePrev.disabled = false;
      }, 1500);
    }
  </script>
</html>
